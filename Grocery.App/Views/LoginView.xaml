<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Grocery.App.ViewModels"
             x:Class="Grocery.App.Views.LoginView"
             x:DataType="vm:LoginViewModel"
             Title="Inloggen"
             BackgroundColor="#F5F5F5">
             
    <ScrollView>
        <StackLayout Padding="30,50" VerticalOptions="CenterAndExpand" HorizontalOptions="FillAndExpand">
            
            <!-- Logo/App Title Section -->
            <StackLayout HorizontalOptions="Center" Margin="0,0,0,40">
                <Label Text="ðŸ›’" FontSize="60" HorizontalOptions="Center" />
                <Label Text="Grocery App" 
                       FontSize="28" 
                       FontAttributes="Bold"
                       HorizontalOptions="Center" 
                       TextColor="#2E7D32"/>
                <Label Text="Welkom terug!" 
                       FontSize="16" 
                       HorizontalOptions="Center" 
                       TextColor="#666"
                       Margin="0,5,0,0"/>
            </StackLayout>
            
            <!-- Login Form -->
            <Border BackgroundColor="White" 
                   StrokeThickness="0" 
                   Padding="25" 
                   Margin="0,0,0,20"
                   StrokeShape="RoundRectangle 15">
                <Border.Shadow>
                    <Shadow Brush="#E0E0E0" Offset="0,2" Radius="8" Opacity="0.3" />
                </Border.Shadow>
                
                <StackLayout Spacing="20">
                    <!-- Email Input -->
                    <StackLayout>
                        <Label Text="E-mailadres" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="#333" 
                               Margin="0,0,0,5"/>
                        <Border BackgroundColor="#F8F9FA" 
                               StrokeThickness="1" 
                               Stroke="#E1E5E9"
                               StrokeShape="RoundRectangle 8">
                            <Entry Placeholder="Voer je e-mailadres in" 
                                   Text="{Binding Email}" 
                                   Keyboard="Email"
                                   BackgroundColor="Transparent"
                                   TextColor="#333"
                                   PlaceholderColor="#999"/>
                        </Border>
                    </StackLayout>
                    
                    <!-- Password Input -->
                    <StackLayout>
                        <Label Text="Wachtwoord" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="#333" 
                               Margin="0,0,0,5"/>
                        <Border BackgroundColor="#F8F9FA" 
                               StrokeThickness="1" 
                               Stroke="#E1E5E9"
                               StrokeShape="RoundRectangle 8">
                            <Entry Placeholder="Voer je wachtwoord in" 
                                   Text="{Binding Password}" 
                                   IsPassword="True"
                                   BackgroundColor="Transparent"
                                   TextColor="#333"
                                   PlaceholderColor="#999"/>
                        </Border>
                    </StackLayout>
                    
                    <!-- Remember Me Checkbox -->
                    <StackLayout Orientation="Horizontal" Spacing="10">
                        <CheckBox IsChecked="{Binding RememberMe}" Color="#2E7D32"/>
                        <Label Text="Onthoud mij" 
                               VerticalOptions="Center" 
                               TextColor="#666"
                               FontSize="14"/>
                    </StackLayout>
                    
                    <!-- Login Button -->
                    <Button Text="Inloggen" 
                           Command="{Binding LoginCommand}"
                           BackgroundColor="#2E7D32"
                           TextColor="White"
                           FontSize="16"
                           FontAttributes="Bold"
                           HeightRequest="50"
                           CornerRadius="8"
                           Margin="0,10,0,0">
                        <Button.Shadow>
                            <Shadow Brush="#2E7D32" Offset="0,2" Radius="4" Opacity="0.3" />
                        </Button.Shadow>
                    </Button>
                    
                    <!-- Loading Indicator -->
                    <ActivityIndicator IsVisible="{Binding IsLoading}" 
                                      IsRunning="{Binding IsLoading}"
                                      Color="#2E7D32"/>
                    
                    <!-- Login Message -->
                    <Label Text="{Binding LoginMessage}" 
                           TextColor="{Binding LoginMessageColor}"
                           FontSize="14"
                           HorizontalTextAlignment="Center"
                           IsVisible="{Binding HasLoginMessage}"/>
                </StackLayout>
            </Border>
            
            <!-- Registration Link -->
            <StackLayout Orientation="Horizontal" 
                        HorizontalOptions="Center" 
                        Spacing="5"
                        Margin="0,20,0,0">
                <Label Text="Nog geen account?" 
                       TextColor="#666" 
                       FontSize="14"/>
                <Label Text="Registreren" 
                       TextColor="#2E7D32" 
                       FontSize="14"
                       FontAttributes="Bold"
                       TextDecorations="Underline">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToRegisterCommand}"/>
                    </Label.GestureRecognizers>
                </Label>
            </StackLayout>
            
            <!-- Forgot Password Link -->
            <Label Text="Wachtwoord vergeten?" 
                   TextColor="#2E7D32" 
                   FontSize="14"
                   HorizontalOptions="Center"
                   TextDecorations="Underline"
                   Margin="0,10,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ForgotPasswordCommand}"/>
                </Label.GestureRecognizers>
            </Label>
            
        </StackLayout>
    </ScrollView>
</ContentPage>